{"remainingRequest":"/Users/lixiaolong/Desktop/zion-ui-docs/zion-ui/node_modules/babel-loader/lib/index.js!/Users/lixiaolong/Desktop/zion-ui-docs/zion-ui/node_modules/ts-loader/index.js??ref--13-2!/Users/lixiaolong/Desktop/zion-ui-docs/zion-ui/packages/directives/magnifier.ts","dependencies":[{"path":"/Users/lixiaolong/Desktop/zion-ui-docs/zion-ui/packages/directives/magnifier.ts","mtime":1623499691691},{"path":"/Users/lixiaolong/Desktop/zion-ui-docs/zion-ui/node_modules/cache-loader/dist/cjs.js","mtime":1617778631501},{"path":"/Users/lixiaolong/Desktop/zion-ui-docs/zion-ui/node_modules/babel-loader/lib/index.js","mtime":1617778631438},{"path":"/Users/lixiaolong/Desktop/zion-ui-docs/zion-ui/node_modules/ts-loader/index.js","mtime":1622032466136}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoZWwpIHsKICAgIC8vIGNvbnNvbGUubG9nKGVsKQogICAgdmFyIG9JbWFnZSA9IGVsOwogICAgdmFyIG9NYWdXcmFwID0gb0ltYWdlLnF1ZXJ5U2VsZWN0b3IoJy56LW1hZ2JveCcpOwogICAgdmFyIG9NYWdJbWcgPSBvSW1hZ2UucXVlcnlTZWxlY3RvcignLm1hZy1pbWcnKTsKICAgIHZhciBpbWdXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG9JbWFnZSwgbnVsbClbJ3dpZHRoJ10pOwogICAgdmFyIGltZ0hlaWdodCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG9JbWFnZSwgbnVsbClbJ2hlaWdodCddKTsKICAgIHZhciBtYWdXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG9NYWdXcmFwLCBudWxsKVsnd2lkdGgnXSk7CiAgICB2YXIgbWFnSGVpZ2h0ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUob01hZ1dyYXAsIG51bGwpWydoZWlnaHQnXSk7CiAgICB2YXIgaW1nWCA9IG9JbWFnZS5vZmZzZXRMZWZ0OwogICAgdmFyIGltZ1kgPSBvSW1hZ2Uub2Zmc2V0VG9wOwogICAgY29uc29sZS5sb2coaW1nWCwgaW1nWSk7CgogICAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KCkgewogICAgICBiaW5kRXZlbnQoKTsKICAgIH07CgogICAgZnVuY3Rpb24gYmluZEV2ZW50KCkgewogICAgICBvSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgaWYgKG9NYWdXcmFwKSB7CiAgICAgICAgICBvTWFnV3JhcC5jbGFzc05hbWUgKz0gIiBzaG93IjsKICAgICAgICB9CgogICAgICAgIHNob3dNYWcoZ2V0WFkoZXZlbnQpLngsIGdldFhZKGV2ZW50KS55LCBnZXRYWShldmVudCkubW91c2VYLCBnZXRYWShldmVudCkubW91c2VZKTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kTW91c2VNb3ZlLCBmYWxzZSk7CiAgICAgIH0sIGZhbHNlKTsKICAgICAgb0ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgaGFuZE1vdXNlT3V0LCBmYWxzZSk7CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZE1vdXNlTW92ZShldmVudCkgewogICAgICBzaG93TWFnKGdldFhZKGV2ZW50KS54LCBnZXRYWShldmVudCkueSwgZ2V0WFkoZXZlbnQpLm1vdXNlWCwgZ2V0WFkoZXZlbnQpLm1vdXNlWSk7CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZE1vdXNlT3V0KCkgewogICAgICBpZiAob01hZ1dyYXApIHsKICAgICAgICBvTWFnV3JhcC5jbGFzc05hbWUgPSAnei1tYWdib3gnOwogICAgICB9CgogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kTW91c2VNb3ZlLCBmYWxzZSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2hvd01hZyh4LCB5LCBtb3VzZVgsIG1vdXNlWSkgewogICAgICBvTWFnV3JhcC5zdHlsZS5sZWZ0ID0geCArICdweCc7CiAgICAgIG9NYWdXcmFwLnN0eWxlLnRvcCA9IHkgKyAncHgnOwogICAgICBvTWFnSW1nLnN0eWxlLmxlZnQgPSAteCArICdweCc7CiAgICAgIG9NYWdJbWcuc3R5bGUudG9wID0gLXkgKyAncHgnOwoKICAgICAgaWYgKG1vdXNlWCA8IDAgfHwgbW91c2VZIDwgMCB8fCBtb3VzZVggPiBpbWdXaWR0aCB8fCBtb3VzZVkgPiBpbWdIZWlnaHQpIHsKICAgICAgICBpZiAob01hZ1dyYXApIHsKICAgICAgICAgIG9NYWdXcmFwLmNsYXNzTmFtZSA9ICd6LW1hZ2JveCc7CiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kTW91c2VNb3ZlLCBmYWxzZSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRYWShlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogZS5wYWdlWCAtIGltZ1ggLSBtYWdXaWR0aCAvIDIsCiAgICAgICAgeTogZS5wYWdlWSAtIGltZ1kgLSBtYWdIZWlnaHQgLyAyLAogICAgICAgIG1vdXNlWDogZS5wYWdlWCAtIGltZ1gsCiAgICAgICAgbW91c2VZOiBlLnBhZ2VZIC0gaW1nWQogICAgICB9OwogICAgfQoKICAgIGluaXQoKTsgLy8gY29uc29sZS5sb2cob01hZ0ltZyxpbWdXaWR0aCxpbWdIZWlnaHQsbWFnV2lkdGgsbWFnSGVpZ2h0KQogIH0KfTs="},{"version":3,"sources":["/Users/lixiaolong/Desktop/zion-ui-docs/zion-ui/packages/directives/magnifier.ts"],"names":[],"mappings":"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","sourcesContent":["interface elecustom {\n    style:any\n}\nexport default {\n    mounted (el:HTMLElement) {\n        // console.log(el)\n        const oImage:HTMLElement = el;\n        const oMagWrap = oImage.querySelector('.z-magbox');\n        const oMagImg = oImage.querySelector('.mag-img');\n\n        const imgWidth:number = parseInt(window.getComputedStyle(oImage,null)['width']);\n        const imgHeight:number = parseInt(window.getComputedStyle(oImage,null)['height']);\n\n        const magWidth:number = parseInt(window.getComputedStyle(oMagWrap as Element,null)['width']);\n        const magHeight:number = parseInt(window.getComputedStyle(oMagWrap as Element,null)['height']);\n        \n        const imgX:number = (oImage as any).offsetLeft;\n        const imgY:number = (oImage as any).offsetTop;\n        \n        console.log(imgX,imgY)\n        const init = ()=>{\n            bindEvent()\n        }\n        function bindEvent(){\n            oImage.addEventListener('mouseover',function(event:Event){\n                if(oMagWrap){\n                    oMagWrap.className += \" show\"\n                }\n                \n                showMag(getXY(event).x,getXY(event).y,getXY(event).mouseX,getXY(event).mouseY)\n                document.addEventListener('mousemove',handMouseMove,false)\n            },false)\n\n            oImage.addEventListener('mouseout',handMouseOut,false)\n\n        }\n        function handMouseMove(event:Event){\n            showMag(getXY(event).x,getXY(event).y,getXY(event).mouseX,getXY(event).mouseY)\n        }\n        function handMouseOut(){\n            if(oMagWrap){\n                oMagWrap.className = 'z-magbox';\n            }\n            document.removeEventListener('mousemove',handMouseMove,false)\n        }\n\n        function showMag(x:number,y:number,mouseX:number,mouseY:number){\n            (oMagWrap as any).style.left = x + 'px';\n            (oMagWrap as any).style.top = y + 'px';\n            (oMagImg as any).style.left = -x + 'px';\n            (oMagImg as any).style.top = -y + 'px';\n\n            if(mouseX<0 || mouseY<0 || mouseX>imgWidth || mouseY>imgHeight){\n                if(oMagWrap){\n                    oMagWrap.className = 'z-magbox';\n                }\n                document.removeEventListener('mousemove',handMouseMove,false)\n            }\n        }\n        function getXY(e:Event){\n            return {\n                x:(e as any).pageX - imgX - magWidth/2,\n                y:(e as any).pageY - imgY - magHeight/2,\n                mouseX:(e as any).pageX-imgX,\n                mouseY:(e as any).pageY-imgY,\n            }\n        }\n        init();\n        // console.log(oMagImg,imgWidth,imgHeight,magWidth,magHeight)\n    \n    }\n}"],"sourceRoot":""}]}